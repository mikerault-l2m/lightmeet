{% extends 'partner_meet/base_Partner_meet.html' %}
{% load static %}
{% block css %}

<link rel="stylesheet" href="{% static 'partner_meet/css/SearchPage.css' %}">
{{ block.super }}
<link rel="stylesheet" href="{% static 'partner_meet/css/style_base.css' %}">
{% endblock %}
{% load static %}


{% block section %}
<div class="ButtonPos">
    <button class="buttonOtherSearh">Rencontres</button>
    <button class="buttonOtherSearh">Thérapeutes</button>
</div>
<div class="sites-de-rencontres">
    <div class="containerBackground">
        <form method="get" action="{% url 'recherche_meilleur_site' %}">
            {% csrf_token %}
            <div class="containerCardSelector">
                <div class="CardSelector">
                    <h2>Catégorie du site</h2>
                    <select class="selector" name="categorie">
                        {% for categorie_key, categorie_label in CATEGORIE_CHOICES %}
                        <option value="{{ categorie_key }}">{{ categorie_label }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="CardSelector">
                    <h2>Relation</h2>
                    <select class="selector" name="relation">
                        {% for relation_key, relation_label in RELATION_CHOICES %}
                        <option value="{{ relation_key }}">{{ relation_label }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="CardSelector">
                    <h2>Tranche d'âge</h2>
                    <select class="selector" name="age">
                        {% for age_key, age_label in AGE_CHOICES %}
                        <option class="optiontest" value="{{ age_key }}">{{ age_label }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="PosSearch">
                <div class="PosFilter">
                    <p>Filtres populaires: </p>
                    <div>
                        <input type="checkbox" name="checkbox" id="partner" />
                        <label for="partner">Partenaires affiliés</label>
                    </div>
                    <div>
                        <input type="checkbox" name="checkbox" id="free" />
                        <label for="free">Gratuit</label>
                    </div>
                </div>

                <button class="ButtonSearch" type="submit">Recherchez</button>
            </div>
        </form>
    </div>
</div>


<div class="containerResultats">

    <div class="FitlerResultats">
        <p class="Resultats"> Résultats</p>
        <div class="PosFitlerResultats">
            <button class="ButtonFitlerResultats">
                Les mieux notés
            </button>
            <button class="ButtonFitlerResultats">
                Les plus populaires
            </button>
            <button class="ButtonFitlerResultats">
                Les plus pertinentes
            </button>
        </div>
    </div>
    {% for partner in partnermeet %}
    <div class="cardApp" action="get">
        <img src="{{ partner.LOGO.url }}" alt="{{ partner.nom }} Logo"
            style="width: 200px; height: 180px; border-radius: 30px;">
        <p>{{ partner.description }}</p> <!-- Affichage de la description du partenaire -->
        <p>{{ partner.prix_avg }} euros / mois</p> <!-- Affichage du prix moyen -->
        <p>{{ partner.age }} ans est l'âge idéal</p>
        <p>+ {{ partner.Visites_France}} Visites</p>
        {% if partner.trustpilot %}
        <p><i>{{ partner.trustpilot }}/5</i></p> <!-- Affichage de la note moyenne si disponible -->
        {% endif %}
    </div>

    {% empty %}
    <div class="empty-message">
        <p>Ces sites de rencontres sont actuellement étudiés par l'équipe de <i>Lightmeet</i></p>
        <p style="text-align:center;"><strong style="font-size:30px;">BIENTÔT disponible</strong></p>
    </div>
    {% endfor %}

</div>

{% endblock %}